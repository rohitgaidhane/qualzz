var ipaddress="https://dev.qualzz.com/images",gloabalImageAPI="https://dev.qualzz.com/images",ipaddressapi="https://dev.qualzz.com/api",serverPointTo="https://dev.qualzz.com",emailVerficationAPI=ipaddressapi+"/user/emailverificationAPI/";sizeName="";var values={},emailCount=0,webhookJSON=[],s_Json=[],cnt=0,device,blocking=!1,traffic_Source={organic:!1,social:!1,direct:!1,paid:!1,other:!1},systemInfoJson;function devicechecking(){device=navigator.userAgent.match(/Tablet|iPad/i)?"tablet":navigator.userAgent.match(/Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\bCrMo\/|Opera Mobi/i)?"mobile":"desktop"}function setPositionForMobile(data,id,scale,frameid){var parentframe=window.frameElement.id;"bottomcenter"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin="left top 0px"):"topleft"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin="left top 0px"):"topcenter"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin="left top 0px"):"topright"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin="right top 0px"):"bottomleft"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin=""):"bottomright"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",margin:"auto"}),formorigin="right top 0px"):"middleleft"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}),formorigin="left top 0px"):"middleright"==data?(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}),formorigin="right top 0px"):"middlecenter"==data&&(QualzzJQuery("#"+frameid+id).css({left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}),formorigin="left top 0px")}function framecreation(frameid,campaignid,body_data,positiondata,json){var borderWidth=body_data.border.substr(0,3),frmWidth=parseInt(body_data.width,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10),frmHeight=parseInt(body_data.height,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10),deviceHeight=screen.height,deviceWidth=screen.width,scale;(scale=Math.min(parseInt(deviceWidth+"")/parseInt(frmWidth),parseInt(deviceHeight+"")/parseInt(frmHeight))+"")>1&&(scale=1);var zindex=1e4;if(("Floating Bar"==json.sizeName||body_data.folatingbarfullscreen)&&("bottomcenter"==positiondata||"topcenter"==positiondata)){let _postion=body_data.stick_header?"fixed":"relative",_top="bottomcenter"==positiondata?"":"0px",_bottom="bottomcenter"==positiondata?"0px":"";"fixed"==_postion&&(window.parent.document.body.style.paddingTop=body_data.height),"bottomcenter"==positiondata&&"Floating Bar"==json.sizeName&&(_postion="sticky"),"topcenter"!=positiondata||"Floating Bar"!=json.sizeName||body_data.stick_header||(_postion="absolute"),iframeData=window.parent.document.getElementById("framework"+campaignid),iframeData.style.cssText="left:0px;width: 100vw;height:"+body_data.height+";position: "+_postion+";top: "+_top+";bottom:"+_bottom+";border:none;z-index:10000001;background-color:"+body_data.backgroundcolor+";background-image:"+body_data.backgroundGradient}if("mobile"==device||"tablet"==device)if("bottomleft"==positiondata||"bottomcenter"==positiondata){var newscale=scale,scale="scale("+scale+")",bottomvalue;if(bottomvalue="present"==body_data.brandingicon?"23px":"0px",body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat",bottom:bottomvalue,"background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({background:"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",bottom:bottomvalue,"-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});setPositionForMobile(positiondata,campaignid,newscale,frameid);var parentframe=window.frameElement.id}else if("topleft"==positiondata||"topcenter"==positiondata||"middleleft"==positiondata||"middlecenter"==positiondata){var newscale=scale,scale="scale("+scale+")";if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:"desktop"==device?body_data.width:"Inline"==sizeName?"100%":body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({background:"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:"desktop"==device?body_data.width:"Inline"==sizeName?"100%":body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});setPositionForMobile(positiondata,campaignid,newscale,frameid);var parentframe=window.frameElement.id}else if("bottomright"==positiondata){var newscale=scale,scale="scale("+scale+")",bottomvalue;if(bottomvalue="present"==body_data.brandingicon?"23px":"0px",body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat",bottom:bottomvalue,"background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({background:"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)",bottom:bottomvalue,"-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});setPositionForMobile(positiondata,campaignid,newscale,frameid);var parentframe=window.frameElement.id}else{if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,right:"0","border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({background:"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,right:"0",position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});setPositionForMobile(positiondata,campaignid,newscale,frameid)}else if("desktop"==device){if("bottomleft"==positiondata)if("present"==body_data.brandingicon)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,bottom:"23px",left:"0","z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,bottom:"23px",left:"0",position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});else if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,overflow:"hidden",height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,bottom:"0",left:"0","z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,bottom:"0",left:"0",position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});if("bottomright"==positiondata)if("present"==body_data.brandingicon)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",bottom:"23px",right:"0",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",bottom:"23px",right:"0","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});else if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,overflow:"hidden",height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",bottom:"0",right:"0",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",bottom:"0",right:"0","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});if("bottomcenter"==positiondata){if("present"==body_data.brandingicon)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,bottom:"23px",left:"0",right:"0px",margin:"auto",transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)","z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)",bottom:"23px",right:"0px",margin:"auto","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)",transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)"}),QualzzJQuery("#"+frameid+campaignid).css({transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)"});else if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,overflow:"hidden",height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,bottom:"0",left:"0",right:"0px",margin:"auto",transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)","z-index":1e4,"background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,overflow:"hidden","background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)",bottom:"0",right:"0px",margin:"auto","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)",transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)"}),QualzzJQuery("#"+frameid+campaignid).css({transfom:"Floating Bar"==sizeName?"":"translate(-50%,0)"});"Floating Bar"==sizeName&&QualzzJQuery("#"+frameid+campaignid).css({width:"100%",transfom:"none"})}if("topright"==positiondata)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"0",right:"0","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)",top:"0",right:"0","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});if("topleft"==positiondata)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"0",left:"0","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)",top:"0",left:"0","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"});if("topcenter"==positiondata)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"0",left:"50%",transform:"translate(-50,0)","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",top:"0",left:"50%"}),QualzzJQuery("#"+frameid+campaignid).css({transform:"translate(-50%,0)"});if("middleleft"==positiondata)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"50%",left:"0%",transform:"translate(0px,-50%)","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",top:"50%",left:"0%"}),QualzzJQuery("#"+frameid+campaignid).css({transform:"translate(0,-50%)"});if("middleright"==positiondata)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"50%",right:"0%",transform:"translate(0px,-50%)","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",top:"50%",right:"0%"}),QualzzJQuery("#"+frameid+campaignid).css({transform:"translate(0,-50%)"});if("middlecenter"==positiondata)if("Inline"==sizeName)if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:"desktop"==device?body_data.width:"100%",height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"50%",left:"50%",transform:"translate(-50%,-50%)","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:"desktop"==device?body_data.width:"100%",height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4});else if(body_data.imagename){var backgroundImageUrl=ipaddress+"/campaign/"+body_data.imagename;QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":"url('"+backgroundImageUrl+"')",border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,top:"50%",left:"50%",transform:"translate(-50%,-50%)","background-repeat":"no-repeat","background-size":"100% 100%","-webkit-box-shadow":"0 0 10px rgba(0,0,0,0.4)","-moz-box-shadow":"0 0 10px rgba(0,0,0,0.4)","box-shadow":"0 0 10px rgba(0,0,0,0.4)"})}else QualzzJQuery("#"+frameid+campaignid).css({"background-color":"none"}),QualzzJQuery("#"+frameid+campaignid).css({width:body_data.width,height:body_data.height,"background-color":body_data.backgroundcolor,"background-image":body_data.backgroundGradient,border:body_data.border,"border-radius":body_data.borderradius,"z-index":1e4,position:"fixed",top:"50%",left:"50%"}),QualzzJQuery("#"+frameid+campaignid).css({transform:"translate(-50%,-50%)"})}!body_data.folatingbarfullscreen||"bottomcenter"!=positiondata&&"topcenter"!=positiondata||QualzzJQuery("#"+frameid+campaignid).attr("imagename",body_data.imagename).css({"-webkit-box-shadow":"none","-moz-box-shadow":"none","box-shadow":"none"})}function displayNextPop(json,j,STOP="START"){sizeName=json.sizeName;var inpObj=document.getElementById("iframe"+json.campaignid);let checkboxesLength=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes").length;if(checkboxesLength>0)for(let j=0;j<checkboxesLength;j++){let checkboxes=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes")[j].getElementsByClassName("required"),checkedStatus=[];for(let i=0;i<checkboxes.length;i++)1==checkboxes[i].checked&&checkedStatus.push(!0);if(checkboxes.length>0){if(checkedStatus.length<=0){var errormsgset=checkboxes[0].setCustomValidity(""),errormsgset=checkboxes[0].setCustomValidity("please Select At least one option");return!1}var errormsgset=checkboxes[0].setCustomValidity("")}}if(!inpObj.checkValidity())return!1;var frameid,children_element_data,div_content,body_data;pageNo!=j&&(getFormFieldDataForWebhook(json.campaignid),getFormFieldDataForResponses(json.campaignid),pageNo=j),cnt=j;var campaign_json_data=JSON.parse(json.campaignJson),positiondata=json.displayOptions.position;if(0==cnt){var scale;if(children_element_data=campaign_json_data[cnt],body_data=JSON.parse(children_element_data[0]),div_content=children_element_data[1],QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#iframe"+json.campaignid).remove(),frameid="frameone",(scale=Math.min(parseInt(screen.width+"")/parseInt(body_data.width),parseInt(screen.height+"")/parseInt(body_data.width))+"")>1&&(scale=1),"mobile"==device||"tablet"==device)if(setPositionForMobile(positiondata,json.campaignid,scale,frameid),"present"==body_data.brandingicon)var brandingimg=getBrandingDivMobile(positiondata,body_data,json),div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height: 90vh !important;overflow-y: auto !important;position:fixed;width:"+body_data.width+"+;height:"+body_data.height+";'>"+brandingimg+"</div></form>";else var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height: 90vh !important;overflow-y: auto !important;position:fixed;width:"+body_data.width+"+;height:"+body_data.height+";'></div></form>";else if("desktop"==device)var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height: 90vh !important;overflow-y: auto !important;position:fixed;width:"+body_data.width+"+;height:"+body_data.height+";'></div></form>";QualzzJQuery(div).appendTo(QualzzJQuery("body"));var parentframe=window.frameElement.id,borderWidth=body_data.border.substr(0,3),frmWidth=parseInt(body_data.width,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10),frmHeight=parseInt(body_data.height,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10);"Inline"==sizeName?"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width="100%"):(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width=body_data.width):"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"):"desktop"==device&&(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"),framecreation(frameid,json.campaignid,body_data,positiondata,json)}else if(1==cnt){var scale;if(children_element_data=campaign_json_data[cnt],body_data=JSON.parse(children_element_data[0]),div_content=children_element_data[1],QualzzJQuery("#frametwo"+json.campaignid).remove(),QualzzJQuery("#iframe"+json.campaignid).remove(),frameid="frametwo",(scale=Math.min(parseInt(screen.width+"")/parseInt(body_data.width),parseInt(screen.height+"")/parseInt(body_data.width))+"")>1&&(scale=1),"mobile"==device||"tablet"==device)if(setPositionForMobile(positiondata,json.campaignid,scale,frameid),"present"==body_data.brandingicon)var brandingimg=getBrandingDivMobile(positiondata,body_data,json),div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;width:"+("Inline"==sizeName?"100%":body_data.width)+";height:"+body_data.height+";transform-origin:"+formorigin+";'>"+brandingimg+"</div></form>";else var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;width:"+("Inline"==sizeName?"100%":body_data.width)+";height:"+body_data.height+";transform-origin:"+formorigin+";'></div></form>";else if("desktop"==device)if("present"==body_data.brandingicon)var brandingimg=getBrandingDivDesktop(positiondata,body_data,json),div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName||"Floating Bar"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;width:"+body_data.width+"+;height:"+body_data.height+";'>"+brandingimg+"</div></form>";else var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName||"Floating Bar"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;width:"+body_data.width+"+;height:"+body_data.height+";'></div></form>";QualzzJQuery(div).appendTo(QualzzJQuery("body"));var parentframe=window.frameElement.id,borderWidth=body_data.border.substr(0,3),frmWidth=parseInt(body_data.width,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10),frmHeight=parseInt(body_data.height,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10);"Inline"==sizeName?"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width="100%"):(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width=body_data.width):"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"):"desktop"==device&&(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"),QualzzJQuery("#frameone"+json.campaignid).remove(),framecreation(frameid,json.campaignid,body_data,positiondata,json)}else if(2==cnt){var scale;if(children_element_data=campaign_json_data[cnt],body_data=JSON.parse(children_element_data[0]),div_content=children_element_data[1],QualzzJQuery("#framethree"+json.campaignid).remove(),QualzzJQuery("#iframe"+json.campaignid).remove(),frameid="framethree",(scale=Math.min(parseInt(screen.width+"")/parseInt(body_data.width),parseInt(screen.height+"")/parseInt(body_data.width))+"")>1&&(scale=1),"mobile"==device||"tablet"==device)if(setPositionForMobile(positiondata,json.campaignid,scale,frameid),"present"==body_data.brandingicon)var brandingimg=getBrandingDivMobile(positiondata,body_data,json),div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;overflow:hidden;transform-origin:"+formorigin+";transform:scale("+scale+")'>"+brandingimg+"</div></form>";else var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;overflow:hidden;transform-origin:"+formorigin+";transform:scale("+scale+")'></div></form>";else if("desktop"==device)if("present"==body_data.brandingicon)var brandingimg=getBrandingDivDesktop(positiondata,body_data,json),div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;overrflow:hidden'>"+brandingimg+"</div></form>";else var div="<form id='iframe"+json.campaignid+"' style='width:100%;height:100%'><div id='"+frameid+json.campaignid+"' style=' max-height:"+("Inline"==sizeName?"100%":"90vh !important")+";overflow-y: auto !important;position:fixed;overrflow:hidden'></div></form>";QualzzJQuery(div).appendTo(QualzzJQuery("body"));var parentframe=window.frameElement.id,borderWidth=body_data.border.substr(0,3),frmWidth=parseInt(body_data.width,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10),frmHeight=parseInt(body_data.height,10)+parseInt(borderWidth,10)+parseInt(borderWidth,10);"Inline"==sizeName?"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width="100%"):(window.parent.document.getElementById(parentframe).style.height=body_data.height,window.parent.document.getElementById(parentframe).style.width=body_data.width):"mobile"==device||"tablet"==device?(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"):"desktop"==device&&(window.parent.document.getElementById(parentframe).style.height="100%",window.parent.document.getElementById(parentframe).style.width="100%"),QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#frametwo"+json.campaignid).remove(),framecreation(frameid,json.campaignid,body_data,positiondata,json)}var width=QualzzJQuery("."+json.campaignid).css("width");if("present"==body_data.closeiconpresent){var closeicon="<div style='top: 5px;right: 9px;position: absolute;z-index:1000000;cursor:pointer' class='button-close"+json.campaignid+"'><i class='fa fa-times-circle' style='color:"+body_data.closeiconcolor+";font-size: 22px;cursor:pointer'  aria-hidden='true'></i></div>";QualzzJQuery(closeicon).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if(null!=div_content){if("Inline"==sizeName&&"desktop"!=device){IframeFullWith=localStorage.getItem("IframeFullWith");for(var i=0;i<div_content.children.length;i++){var data;if("textarea"==div_content.children[i].type){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var fontfamily=data.fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<textarea>").attr({id:data.id,placeholder:data.placeholder,type:"textarea",name:data.name,required:data.required,maxLength:1e3}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("email"==div_content.children[i].type){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var fontfamily=data.fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<input>").attr({id:data.id,placeholder:data.placeholder,type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",name:data.name,required:data.required,block_disposable:!!data.block_disposable,blacklisted_domains:data.blacklisted_domains,API:data.API,APIKey:data.APIKey}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("phone_text"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var fontfamily=data.fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<input>").attr({id:data.id,placeholder:data.placeholder,type:"text",name:data.name,pattern:"[0-9]{10,16}",required:data.required,title:"Enter Valid Phone Number"}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("single_line_text"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var fontfamily=data.fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,formLabel="<form></form>",appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var data_x=parseInt(data.positionxaxis,10),data_y=parseInt(data.positionyaxis,10),final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1;QualzzJQuery("<input>").attr({required:data.required,placeholder:data.placeholder,name:data.name,id:data.id}).css({width:"100%",margin:"unset",display:"inline-block",border:"none","box-shadow":"unset","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"unset","background-color":data.backgroundcolor,position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",width:data.width,border:border,"font-family":fontfamily,color:data.textcolor,"font-size":fontsize,"border-radius":data.borderradius,"letter-spacing":letterspacing,"padding-left":data.paddingleft,"padding-right":data.paddingright,"padding-top":data.paddingtop,"padding-bottom":data.paddingbottom,height:data.height,"padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("label"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.htmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("radio_button"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("drop-down"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("consent"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("checkboxes"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("timer"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px","overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.timerhtmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("socialLink"==div_content.children[i].id){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var final_x_axis=parseFloat(data.positionxaxis)+3+"px",final_y_axis=data.positionyaxis+"";css={position:"absolute",top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px"},QualzzJQuery("<span></span>").css(css).append(data.htmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("img"==div_content.children[i].id){data=div_content.children[i];let imgPer=parseInt(data.width)/IframeFullWith;imgPer<1&&(CalcLeftRight=100*imgPer,CalcLeftRight=(100-CalcLeftRight)/2);var data_x=parseInt(data.positionxaxis,10),data_y=parseInt(data.positionyaxis,10),imageBaseUrl,imageUrl=(imageBaseUrl=ipaddress+"/campaign/")+data.imagename,final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",border_width=data.borderwidth,border_color=data.bordercolor,border_radius=data.borderradius,imgborder=border_width+" solid "+border_color,myImage;(myImage=QualzzJQuery("<img/>")).attr("id","img"),myImage.attr("width",data.width),myImage.attr("height",data.height),myImage.attr("src",imageUrl),myImage.attr("imagename",data.imagename),myImage.attr("onclick",data.onclick),myImage.css({width:data.width,height:data.height,margin:"0",float:"none",border:"none","padding-left":data.paddingleft,"padding-right":data.paddingright,"padding-top":data.paddingtop,"padding-bottom":data.paddingbottom,position:data.position,top:final_x_axis,left:CalcLeftRight+"%",right:CalcLeftRight+"%",border:imgborder,"border-radius":border_radius,display:imgPer>1?"none":""}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("button"==div_content.children[i].type){data=div_content.children[i],CalcLeftRight=(IframeFullWith-parseInt(data.width))/2;var id=data.id,event=data.event,border="",Styleclass;Styleclass=null==data.class?"flat":data.class;var buttonlabel=data.buttonlabel,final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",font_family=data.font_family,font=data.fontsize,fontfamily=data.fontfamily,color=data.color,appliedStyle,outline_data="none",borderradius=0,borderdata,underline="none",classname;if(null==(appliedStyle=data.style)&&(appliedStyle=""),null==data.border_radius?appliedStyle.split("border-radius:").length>1&&(borderradius=appliedStyle.split("border-radius:")[1].split(";")[0]):borderradius=data.border_radius,appliedStyle.split("text-decoration:").length>1&&(underline=appliedStyle.split("text-decoration:")[1].split(";")[0]),css={position:"absolute",top:final_x_axis,left:final_y_axis},appliedStyle.split("border:").length>1&&(border=appliedStyle.split("border:")[1].split(";")[0]),appliedStyle.split("outline:").length>1&&(border="2px solid blue"),borderdata="0px",borderdata="outLine"==data.class?"2px solid "+data.bordercolor:"0px solid","Next"==data.event?classname="button-next"+json.campaignid:"Submit"==data.event?classname="button-submit"+json.campaignid:"Close"==data.event&&(classname="button-close"+json.campaignid),"gradient"==data.class){var backgroundcolorgradiant="linear-gradient("+data.linearbackground+", white)";QualzzJQuery("<button>").attr({value:"Button",onclick:data.onclick,class:classname}).html("Button").css({display:"inline-block",padding:"unset",margin:"unset","font-size":"14px","font-weight":"100","line-height":"1.42857143","text-align":"center","white-space":"nowrap","vertical-align":"middle","letter-spacing":"unset","box-shadow":"none","-ms-touch-action":"manipulation","touch-action":"manipulation",cursor:"pointer","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","background-image":"none",border:"none",value:"Button",onclick:data.onclick,class:classname}).html("Button").css({"text-transform":"none",border:data.border,"font-size":font,"font-family":fontfamily,"border-radius":borderradius,color:color,background:backgroundcolorgradiant,position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",width:data.width,height:data.height,"padding-left":data.paddingleft,"padding-right":data.paddingright,"text-decoration":underline,outline:outline_data}).text(buttonlabel).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}else QualzzJQuery("<button>").attr({value:"Button",onclick:data.onclick,class:classname}).html("Button").css({display:"inline-block",padding:"unset",margin:"unset","font-size":"14px","font-weight":"100","line-height":"1.42857143","text-align":"center","white-space":"nowrap","vertical-align":"middle","letter-spacing":"unset","box-shadow":"none","-ms-touch-action":"manipulation","touch-action":"manipulation",cursor:"pointer","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","background-image":"none",border:"none","text-transform":"none",border:data.border,"font-size":font,"font-family":fontfamily,"border-radius":borderradius,color:color,background:data.backgroundcolor,position:data.position,top:final_x_axis,left:CalcLeftRight+"px",right:CalcLeftRight+"px",width:data.width,height:data.height,"padding-left":data.paddingleft,"padding-right":data.paddingright,"text-decoration":underline,outline:outline_data}).text(buttonlabel).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}}}else for(var i=0;i<div_content.children.length;i++){var data;if("textarea"==div_content.children[i].type){var fontfamily=(data=div_content.children[i]).fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<textarea>").attr({id:data.id,placeholder:data.placeholder,type:"textarea",name:data.name,required:data.required,maxLength:1e3}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:final_y_axis,color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("email"==div_content.children[i].type){var fontfamily=(data=div_content.children[i]).fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<input>").attr({id:data.id,placeholder:data.placeholder,type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",name:data.name,required:data.required,block_disposable:!!data.block_disposable,blacklisted_domains:data.blacklisted_domains,API:data.API,APIKey:data.APIKey}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:final_y_axis,color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("phone_text"==div_content.children[i].id){var fontfamily=(data=div_content.children[i]).fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1,newheight=parseInt(data.height),newwidth=parseInt(data.width);QualzzJQuery("<input>").attr({id:data.id,placeholder:data.placeholder,type:"text",name:data.name,pattern:"[0-9]{10,16}",required:data.required,title:"Enter Valid Phone Number"}).css({"background-color":data.backgroundcolor,"box-sizing":"border-box",position:data.position,top:final_x_axis,left:final_y_axis,color:data.textcolor,border:border,"border-radius":data.borderradius,"font-family":fontfamily,height:newheight+"px",width:newwidth+"px","letter-spacing":letterspacing,"font-size":fontsize,padding:"0px","z-index":"1","padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("single_line_text"==div_content.children[i].id){var fontfamily=(data=div_content.children[i]).fontfamily,fontsize=data.fontsize,letterspacing=data.letterspacing,formLabel="<form></form>",appliedStyle;if(null==(appliedStyle=data.style)&&(appliedStyle=""),appliedStyle.split("border:").length>1)var border=appliedStyle.split("border:")[1].split(";")[0];if(appliedStyle.split("border-radius:").length>1)var borderradius=appliedStyle.split("border-radius:")[1].split(";")[0];var data_x=parseInt(data.positionxaxis,10),data_y=parseInt(data.positionyaxis,10),final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",bordercolor=data.bordercolor,borderwidth,border=(borderwidth=data.borderwidth)+" solid "+bordercolor,topspan=parseInt(final_x_axis,10)+parseInt(data.height,10)+1;QualzzJQuery("<input>").attr({required:data.required,placeholder:data.placeholder,name:data.name,id:data.id}).css({width:"100%",margin:"unset",display:"inline-block",border:"none","box-shadow":"unset","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"unset","background-color":data.backgroundcolor,position:data.position,top:final_x_axis,left:final_y_axis,width:data.width,border:border,"font-family":fontfamily,color:data.textcolor,"font-size":fontsize,"border-radius":data.borderradius,"letter-spacing":letterspacing,"padding-left":data.paddingleft,"padding-right":data.paddingright,"padding-top":data.paddingtop,"padding-bottom":data.paddingbottom,height:data.height,"padding-left":"10px"}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("label"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.htmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("radio_button"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("drop-down"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("consent"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("checkboxes"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.outerHTML).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("timer"==div_content.children[i].id){var final_x_axis=(data=div_content.children[i]).positionxaxis+"",final_y_axis=data.positionyaxis+"",label=data.label;css={position:"absolute",top:final_x_axis,left:final_y_axis,"overflow-wrap":"overflow-wrap",width:data.width,height:data.height,"line-height":"1.42857","font-weight":"normal",display:"block",float:"none",color:"none"},QualzzJQuery("<span></span>").css(css).append(data.timerhtmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("socialLink"==div_content.children[i].id){data=div_content.children[i];var final_x_axis=parseFloat(data.positionxaxis)+3+"px",final_y_axis=data.positionyaxis+"";css={position:"absolute",top:final_x_axis,left:final_y_axis},QualzzJQuery("<span></span>").css(css).append(data.htmlcontent).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("img"==div_content.children[i].id){data=div_content.children[i];var data_x=parseInt(data.positionxaxis,10),data_y=parseInt(data.positionyaxis,10),imageBaseUrl,imageUrl=(imageBaseUrl=ipaddress+"/campaign/")+data.imagename,final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",border_width=data.borderwidth,border_color=data.bordercolor,border_radius=data.borderradius,imgborder=border_width+" solid "+border_color,myImage;(myImage=QualzzJQuery("<img/>")).attr("id","img"),myImage.attr("width",data.width),myImage.attr("height",data.height),myImage.attr("src",imageUrl),myImage.attr("imagename",data.imagename),myImage.attr("onclick",data.onclick),myImage.css({width:data.width,height:data.height,margin:"0",float:"none",border:"none","padding-left":data.paddingleft,"padding-right":data.paddingright,"padding-top":data.paddingtop,"padding-bottom":data.paddingbottom,position:data.position,top:final_x_axis,left:final_y_axis,border:imgborder,"border-radius":border_radius}).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}if("button"==div_content.children[i].type){var id=(data=div_content.children[i]).id,event=data.event,border="",Styleclass;Styleclass=null==data.class?"flat":data.class;var buttonlabel=data.buttonlabel,final_x_axis=data.positionxaxis+"",final_y_axis=data.positionyaxis+"",font_family=data.font_family,font=data.fontsize,fontfamily=data.fontfamily,color=data.color,appliedStyle,outline_data="none",borderradius=0,borderdata,underline="none",classname;if(null==(appliedStyle=data.style)&&(appliedStyle=""),null==data.border_radius?appliedStyle.split("border-radius:").length>1&&(borderradius=appliedStyle.split("border-radius:")[1].split(";")[0]):borderradius=data.border_radius,appliedStyle.split("text-decoration:").length>1&&(underline=appliedStyle.split("text-decoration:")[1].split(";")[0]),css={position:"absolute",top:final_x_axis,left:final_y_axis},appliedStyle.split("border:").length>1&&(border=appliedStyle.split("border:")[1].split(";")[0]),appliedStyle.split("outline:").length>1&&(border="2px solid blue"),borderdata="0px",borderdata="outLine"==data.class?"2px solid "+data.bordercolor:"0px solid","Next"==data.event?classname="button-next"+json.campaignid:"Submit"==data.event?classname="button-submit"+json.campaignid:"Close"==data.event&&(classname="button-close"+json.campaignid),"gradient"==data.class){var backgroundcolorgradiant="linear-gradient("+data.linearbackground+", white)";QualzzJQuery("<button>").attr({value:"Button",onclick:data.onclick,class:classname}).html("Button").css({display:"inline-block",padding:"unset",margin:"unset","font-size":"14px","font-weight":"100","line-height":"1.42857143","text-align":"center","white-space":"nowrap","vertical-align":"middle","letter-spacing":"unset","box-shadow":"none","-ms-touch-action":"manipulation","touch-action":"manipulation",cursor:"pointer","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","background-image":"none",border:"none",value:"Button",onclick:data.onclick,class:classname}).html("Button").css({"text-transform":"none",border:data.border,"font-size":font,"font-family":fontfamily,"border-radius":borderradius,color:color,background:backgroundcolorgradiant,position:data.position,top:final_x_axis,left:final_y_axis,width:data.width,height:data.height,"padding-left":data.paddingleft,"padding-right":data.paddingright,"text-decoration":underline,outline:outline_data}).text(buttonlabel).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}else QualzzJQuery("<button>").attr({value:"Button",onclick:data.onclick,class:classname}).html("Button").css({display:"inline-block",padding:"unset",margin:"unset","font-size":"14px","font-weight":"100","line-height":"1.42857143","text-align":"center","white-space":"nowrap","vertical-align":"middle","letter-spacing":"unset","box-shadow":"none","-ms-touch-action":"manipulation","touch-action":"manipulation",cursor:"pointer","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","background-image":"none",border:"none","text-transform":"none",border:data.border,"font-size":font,"font-family":fontfamily,"border-radius":borderradius,color:color,background:data.backgroundcolor,position:data.position,top:final_x_axis,left:final_y_axis,width:data.width,height:data.height,"padding-left":data.paddingleft,"padding-right":data.paddingright,"text-decoration":underline,outline:outline_data}).text(buttonlabel).appendTo(QualzzJQuery("#"+frameid+json.campaignid))}}QualzzJQuery(".button-close"+json.campaignid).click((function(e){QualzzJQuery("."+json.campaignid).hide(),closePopup(json)})),QualzzJQuery(document).keyup((function(e){27==e.keyCode&&closePopup(json)})),QualzzJQuery("#iframe"+json.campaignid).click((function(e){"brandingimg"==e.target.id?window.open("http://qualzz.com","_blank"):closePopup(json)})),QualzzJQuery("#frameone"+json.campaignid).mouseover((function(e){QualzzJQuery(".brandingtop").css({display:"block"}),e.stopPropagation()})),QualzzJQuery("#frameone"+json.campaignid).mouseover((function(e){QualzzJQuery(".brandingtop").css({display:"block"}),e.stopPropagation()})),QualzzJQuery("#brandingimg"+json.campaignid).mouseover((function(e){QualzzJQuery("#brandingimg"+json.campaignid).css({color:"#788494"}),e.stopPropagation()})),QualzzJQuery("#brandingimg"+json.campaignid).mouseleave((function(e){QualzzJQuery("#brandingimg"+json.campaignid).css({color:"lightsteelblue"}),e.stopPropagation()})),QualzzJQuery("#frametwo"+json.campaignid).mouseover((function(e){QualzzJQuery(".brandingtop").css({display:"block"}),e.stopPropagation()})),QualzzJQuery("#frametwo"+json.campaignid).mouseleave((function(e){QualzzJQuery(".brandingtop").css({display:"none"}),e.stopPropagation()})),QualzzJQuery("#framethree"+json.campaignid).mouseover((function(e){QualzzJQuery(".brandingtop").css({display:"block"}),e.stopPropagation()})),QualzzJQuery("#framethree"+json.campaignid).mouseleave((function(e){QualzzJQuery(".brandingtop").css({display:"none"}),e.stopPropagation()})),QualzzJQuery("#frameone"+json.campaignid).click((function(e){e.stopPropagation()})),QualzzJQuery("#frametwo"+json.campaignid).click((function(e){e.stopPropagation()})),QualzzJQuery("#framethree"+json.campaignid).click((function(e){e.stopPropagation()}));var parentframe=window.frameElement.id;QualzzJQuery(".button-next"+json.campaignid).click((function(event){let cntInc=parseInt(cnt);var inpObj;let objElemRequired;document.getElementById("iframe"+json.campaignid).querySelectorAll("[required]").forEach(e=>{0==e.validity.valid&&displayNextPop(json,cntInc,"STOP")}),cntInc=++cntInc,displayNextPop(json,cntInc)})),addSubmitEvent(json.campaignid,frameid,json),div_content.children.length<1&&(QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#frametwo"+json.campaignid).remove(),QualzzJQuery("#framethree"+json.campaignid).remove(),closePopup(json))}}function event(e,json){"brandingimg"==e.target.id?window.open("http://qualzz.com","_blank"):closePopup(json)}function closePopup(json){var parentJson=JSON.parse(json.campaignJson),receivedJson=JSON.parse(parentJson[0][0]);if(window.parent.document.body.style.paddingTop="0px","present"!=receivedJson.blockingstatus){var parentframe=window.frameElement.id;window.parent.document.getElementById(parentframe).style.display="none",QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#frametwo"+json.campaignid).remove(),QualzzJQuery("#framethree"+json.campaignid).remove()}}function closeEXPIREDPopup(json){var parentJson=JSON.parse(json.campaignJson),receivedJson=JSON.parse(parentJson[0][0]),parentframe=window.frameElement.id;window.parent.document.getElementById(parentframe).style.display="none",QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#frametwo"+json.campaignid).remove(),QualzzJQuery("#framethree"+json.campaignid).remove()}function checkEmailValidation(campaignid){let API;QualzzJQuery("#iframe"+campaignid+"  #email_text").each(t=>{let value=QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].value;var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,15})+$/;if(!value.match(mailformat))return QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),!0;QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("blacklisted_domains")&&value?(QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("API")&&(API=QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("API")),checkBlackListedDomains(campaignid,value,API,t)):QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("API")?(API=QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("API"),checkAPIEmailValidation(campaignid,value,API,t)):QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("block_disposable")&&null!=value&&checkDispossableEmail(campaignid,value,t)})}function checkDispossableEmail(campaignid,value,t){QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("block_disposable")&&null!=value&&QualzzJQuery.ajax({url:ipaddressapi+"/user/validateEmail",type:"POST",data:value,contentType:"application/json; charset=utf-8;",dataType:"json",async:!1,success:function(result){if(0==result.data)return QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity("Please enter valid email"),!1}})}function checkBlackListedDomains(campaignid,value,API,t){let blacklisted_domainsArray=[],blacklisted_domainsCont=0,domain=value.split("@")[1];return blacklisted_domainsArray=QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("blacklisted_domains").split(","),-1!=blacklisted_domainsArray.indexOf(domain)?(blacklisted_domainsCont++,QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity("Please enter valid email"),!1):API?void checkAPIEmailValidation(campaignid,value,API,t):(QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),!0)}function checkAPIEmailValidation(campaignid,value,API,t){let APIKey=QualzzJQuery("#iframe"+campaignid+"  #email_text").eq(t).attr("APIKey");QualzzJQuery.ajax({url:emailVerficationAPI,type:"POST",data:JSON.stringify({Email:value,APIKey:APIKey,API:API}),headers:{"Content-Type":"application/json; charset=utf-8"},dataType:"json",async:!1,success:function(result){console.log(result);let responseData=JSON.parse(result.data);return"verifybee"==API?responseData.data.deliverable?(QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),!0):(QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity("Please enter valid email"),!1):"clearout"==API?"invalid"==responseData.data.status?(QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity("Please enter valid email"),!1):(QualzzJQuery("#iframe"+campaignid+"  #email_text")[t].setCustomValidity(""),!0):void 0}})}function redirect(e,campaignId){let url=e.target.attributes.url.value;var obj={campaignId:campaignId,webhookJson:"",responseJson:"",s_Json:"",systemInfoJson:JSON.stringify(systemInfoJson),emailCount:emailCount,isMobile:"true"!=systemInfoJson.is_tablet&&"true"==systemInfoJson.is_mobile,isTablet:"true"==systemInfoJson.is_tablet,isDesktop:"false"==systemInfoJson.is_mobile&&"false"==systemInfoJson.is_tablet,convertingPageUrl:systemInfoJson.url,organic_traffic:traffic_Source.organic,social_traffic:traffic_Source.social,direct_traffic:traffic_Source.direct,paid_traffic:traffic_Source.paid,other_traffic:!(traffic_Source.organic||traffic_Source.social||traffic_Source.paid||traffic_Source.direct)};storeToLocalstorage(campaignId),QualzzJQuery.ajax({url:ipaddressapi+"/user/campaign/saveStatistics",type:"POST",data:JSON.stringify(obj),contentType:"application/json; charset=utf-8",dataType:"json",async:!1,success:function(result){url.search("window"),eval(url)}}),e.preventDefault()}function submitData(campaign,json){var inpObj=document.getElementById("iframe"+json.campaignid);let checkboxesLength=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes").length;if(checkboxesLength>0)for(let j=0;j<checkboxesLength;j++){let checkboxes=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes")[j].getElementsByClassName("required"),checkedStatus=[];for(let i=0;i<checkboxes.length;i++)1==checkboxes[i].checked&&checkedStatus.push(!0);if(checkboxes.length>0){if(checkedStatus.length<=0){var errormsgset=checkboxes[0].setCustomValidity(""),errormsgset=checkboxes[0].setCustomValidity("please Select At least one option");return!1}var errormsgset=checkboxes[0].setCustomValidity("")}}if(!inpObj.checkValidity())return!1;setFlag=!0;var campaignId=campaign,obj={campaignId:campaignId,webhookJson:JSON.stringify(getFormFieldDataForWebhook(campaignId)),s_Json:JSON.stringify(getFormFieldDataForResponses(campaignId)),responseJson:JSON.stringify(values),systemInfoJson:JSON.stringify(systemInfoJson),emailCount:emailCount,isMobile:"true"!=systemInfoJson.is_tablet&&"true"==systemInfoJson.is_mobile,isTablet:"true"==systemInfoJson.is_tablet,isDesktop:"false"==systemInfoJson.is_mobile&&"false"==systemInfoJson.is_tablet,convertingPageUrl:systemInfoJson.url,organic_traffic:traffic_Source.organic,social_traffic:traffic_Source.social,direct_traffic:traffic_Source.direct,paid_traffic:traffic_Source.paid,other_traffic:!(traffic_Source.organic||traffic_Source.social||traffic_Source.paid||traffic_Source.direct)};storeToLocalstorage(campaignId),QualzzJQuery.ajax({url:ipaddressapi+"/user/campaign/saveStatistics",type:"POST",data:JSON.stringify(obj),contentType:"application/json; charset=utf-8",dataType:"json",async:!1,success:function(result){removeAllpopup(obj.campaignId)}})}function storeToLocalstorage(id){let onVisit=[];onVisit.push(JSON.parse(localStorage.getItem("onVisit"))),null!=onVisit?onVisit.length&&onVisit.push({timestamp:new Date,campaignid:id}):onVisit=[];let onVisitFirst={timestamp:new Date,campaignid:id};localStorage.setItem("onVisit",JSON.stringify(onVisit)),localStorage.setItem("onVisitFirst"+id,JSON.stringify(onVisitFirst))}function addSubmitEvent(campaignId,frameId,json){QualzzJQuery(".button-submit"+campaignId).click((function(e){submitonframe(campaignId,frameId,json)}))}function traffic_soucre_type(){let referer=(systemInfoJson=JSON.parse(localStorage.getItem("ipIfoResponse"))).referrer,current_url=systemInfoJson.url;QualzzJQuery.getJSON(serverPointTo+"/assets/trackingScript/organic.json",(function(data){data&&data.indexOf(referer)>=0&&(traffic_Source.organic=!0)})),QualzzJQuery.getJSON(serverPointTo+"/assets/trackingScript/social.json",(function(data){data&&data.indexOf(referer)>=0&&(traffic_Source.social=!0)})),""!=referer&&null!=referer||(traffic_Source.direct=!0),(current_url.search("qpa")>=0||current_url.search("gclid")>=0||current_url.search("fbclid")>=0)&&(traffic_Source.paid=!0)}function getFormFieldDataForWebhook(campaignId){return values.date=new Date,QualzzJQuery("#iframe"+campaignId+" #phone_text").each(e=>{webhookJSON.push({type:"phone_text",name:QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].value}),values[QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].name]=QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].value}),QualzzJQuery("#iframe"+campaignId+" #email_text").each(e=>{emailCount+=1,webhookJSON.push({type:"email",name:QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].value}),values[QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].name]=QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].value}),QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").each(e=>{webhookJSON.push({type:"Multiline_Text",name:QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].value}),values[QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].name]=QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].value}),QualzzJQuery("#iframe"+campaignId+" #single_line_text").each(e=>{webhookJSON.push({type:"single_line_text",name:QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].value}),values[QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].name]=QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].value}),QualzzJQuery("#iframe"+campaignId+" #radio_button").each(e=>{QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input").each(c=>{QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].checked&&(webhookJSON.push({type:"radiobutton",name:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[0].name,value:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("span")[c].innerHTML}),values[QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[0].name]=QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("span")[c].innerHTML),webhookJSON.push({type:"radiobutton",name:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].name+"."+QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].value,value:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].checked?QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].value:""})})}),QualzzJQuery("#iframe"+campaignId+" #checkboxes").each(e=>{let checkArray="";QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input").each(c=>{QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].checked&&(checkArray+=QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("span")[c].innerHTML+","),webhookJSON.push({type:"checkbox",name:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].name.replace("-","."),value:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].checked?QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].value:""})}),checkArray.length>0&&(webhookJSON.push({type:"checkbox",name:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[0].name.split("-")[0],value:checkArray}),values[QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[0].name.split("-")[0]]=checkArray)}),QualzzJQuery("#iframe"+campaignId+" #select_drop_down").each(e=>{QualzzJQuery("#select_drop_down").eq(e).find("option").each(c=>{0!=c&&QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].selected&&(webhookJSON.push({type:"dropdown",name:QualzzJQuery("#iframe"+campaignId+" #select_drop_down")[e].name,value:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].innerHTML}),values[QualzzJQuery("#iframe"+campaignId+" #select_drop_down")[e].name]=QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].innerHTML),0!=c&&webhookJSON.push({type:"dropdown",name:QualzzJQuery("#iframe"+campaignId+" #select_drop_down")[e].name+"."+QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].value,value:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].selected?QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].value:""})})}),webhookJSON}function getFormFieldDataForResponses(campaignId){return QualzzJQuery("#iframe"+campaignId+" #email_text").each(e=>{s_Json.push({type:"email",name:QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #email_text").eq(e)[0].value,label:"",options:""})}),QualzzJQuery("#iframe"+campaignId+" #phone_text").each(e=>{s_Json.push({type:"phone_text",name:QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #phone_text").eq(e)[0].value,label:"",options:""})}),QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").each(e=>{s_Json.push({type:"Multiline_Text",name:QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #Multiline_Text").eq(e)[0].value,label:"",options:""})}),QualzzJQuery("#iframe"+campaignId+" #single_line_text").each(e=>{s_Json.push({type:"single_line_text",name:QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].name,value:QualzzJQuery("#iframe"+campaignId+" #single_line_text").eq(e)[0].value,label:"",options:""})}),QualzzJQuery("#iframe"+campaignId+" #radio_button").each(e=>{let optionArray=[];QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input").each(c=>{QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("label")[c]&&optionArray.push({name:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].value,label:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("span")[c].innerHTML,isChecked:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[c].checked})}),s_Json.push({type:"radiobutton",name:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("input")[0].name,options:optionArray,label:QualzzJQuery("#iframe"+campaignId+" #radio_button").eq(e).find("#radio_question")[0].innerHTML})}),QualzzJQuery("#iframe"+campaignId+" #checkboxes").each(e=>{let optionArray=[];QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("label").each(c=>{QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c]&&optionArray.push({name:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].value,label:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("span")[c].innerHTML,isChecked:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[c].checked})}),s_Json.push({type:"checkbox",name:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("input")[0].name.split("-")[0],label:QualzzJQuery("#iframe"+campaignId+" #checkboxes").eq(e).find("#checkboxes_question")[0].innerHTML,options:optionArray})}),QualzzJQuery("#iframe"+campaignId+" #select_drop_down").each(e=>{let optionArray=[];QualzzJQuery("#select_drop_down").eq(e).find("option").each(c=>{0!=c&&QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c]&&0!=c&&optionArray.push({name:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].value,label:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].innerHTML,isChecked:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[c].selected})}),s_Json.push({type:"dropdown",name:QualzzJQuery("#iframe"+campaignId+" #select_drop_down")[e].name,options:optionArray,label:QualzzJQuery("#iframe"+campaignId+" #select_drop_down").eq(e).find("option")[0].innerHTML})}),s_Json}function submitonframe(campaign,data,json){var inpObj=document.getElementById("iframe"+json.campaignid);let checkboxesLength=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes").length;if(checkboxesLength>0)for(let j=0;j<checkboxesLength;j++){let checkboxes=QualzzJQuery("#iframe"+json.campaignid+" #checkboxes")[j].getElementsByClassName("required"),checkedStatus=[];for(let i=0;i<checkboxes.length;i++)1==checkboxes[i].checked&&checkedStatus.push(!0);if(checkboxes.length>0){if(checkedStatus.length<=0){var errormsgset=checkboxes[0].setCustomValidity(""),errormsgset=checkboxes[0].setCustomValidity("please Select At least one option");return!1}var errormsgset=checkboxes[0].setCustomValidity("")}}if(!inpObj.checkValidity())return!1;setFlag=!0;var campaignId=campaign,obj={campaignId:campaignId,webhookJson:JSON.stringify(getFormFieldDataForWebhook(campaignId)),s_Json:JSON.stringify(getFormFieldDataForResponses(campaignId)),responseJson:JSON.stringify(values),systemInfoJson:JSON.stringify(systemInfoJson),emailCount:emailCount,isMobile:"true"!=systemInfoJson.is_tablet&&"true"==systemInfoJson.is_mobile,isTablet:"true"==systemInfoJson.is_tablet,isDesktop:"false"==systemInfoJson.is_mobile&&"false"==systemInfoJson.is_tablet,convertingPageUrl:systemInfoJson.url,organic_traffic:traffic_Source.organic,social_traffic:traffic_Source.social,direct_traffic:traffic_Source.direct,paid_traffic:traffic_Source.paid,other_traffic:!(traffic_Source.organic||traffic_Source.social||traffic_Source.paid||traffic_Source.direct)};if(storeToLocalstorage(campaignId),QualzzJQuery.ajax({url:ipaddressapi+"/user/campaign/saveStatistics",type:"POST",data:JSON.stringify(obj),contentType:"application/json; charset=utf-8",dataType:"json",async:!1,success:function(result){removeAllpopup(obj.campaignId)}}),"frameone"==data)displayNextPop(json,"1");else if("frametwo"==data)displayNextPop(json,"2");else{var parentframe=window.frameElement.id;window.parent.document.getElementById(parentframe).style.display="none",window.parent.document.body.style.paddingTop="0px",QualzzJQuery("#frameone"+json.campaignid).remove(),QualzzJQuery("#frametwo"+json.campaignid).remove(),QualzzJQuery("#framethree"+json.campaignid).remove()}}function getBrandingDivDesktop(positondata,body_data,json){return"topleft"==positiondata||"topright"==positiondata||"topcenter"==positiondata?brandingimg="<span class='brandingtop' style='height: 30px;display:none;position: absolute;width: 100%;bottom: -30px;text-align: center;'><div style='padding-top:10px;'><span style='font-size: 16px;color: lightsteelblue;font-family:cursive !important;cursor:pointer;    font-family: Georgia;' onclick=window.open('https://qualzz.com','_blank') id='brandingimg"+json.campaignid+"'><span style='font-weight:100'>powered by</span> <span style='font-weight:600'>Qualzz</span></span></div></span>":brandingimg="<span class='branding' style='height: 30px;position: absolute;width: 100%;bottom: -30px;text-align: center;'><div style='padding-top:10px;'><span style='font-size: 16px;font-weight: 600;color: lightsteelblue;font-family:cursive !important;cursor:pointer;    font-family: Georgia;' onclick=window.open('https://qualzz.com','_blank') id='brandingimg"+json.campaignid+"'><span style='font-weight:100'>powered by<span> <span style='font-weight:600'>Qualzz</span></span></div></span>"}function getBrandingDivMobile(positiondata,body_data,json){return brandingimg="<span class='branding' style='height: 30px;position: absolute;width: 100%;bottom: -30px;text-align: center;'><div style='padding-top:10px;'><span style='font-size: 16px;focolor: lightsteelblue;font-family:cursive !important;cursor:pointer;    font-family: Georgia;' onclick=window.open('https://qualzz.com','_blank') id='brandingimg"+json.campaignid+"'><span style='font-weight:100'>powered by<span><span style='font-weight:100'> Qualzz</span></span></div></span>"}function removeAllpopup(campaignid){let brd=window.parent.document.getElementById("brand-"+campaignid);brd&&brd.remove();var parentframe=window.frameElement.id;let frame=window.parent.document.getElementById(parentframe);window.parent.document.body.style.paddingTop="0px",frame.remove()}QualzzJQuery=jQuery.noConflict(!0),setTimeout(()=>{traffic_soucre_type()},100),pageNo=0,devicechecking();